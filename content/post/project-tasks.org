---
title: "Qu·∫£n l√Ω tasks trong project"
tags: [emacs, workflow, devops]
date: 2023-07-18T23:20:25+07:00
draft: false
---

* B√†i to√°n
Trong qu√° tr√¨nh l√†m vi·ªác v·ªõi c√°c project, ch√∫ng ta th∆∞·ªùng ph·∫£i build, ch·∫°y, r·ªìi test, r·ªìi debug, ƒë·ªß th·ªÉ lo·∫°i thao t√°c/t∆∞∆°ng t√°c c·∫ßn ph·∫£i l√†m.
V·ªõi m·ªói project kh√°c nhau th√¨ c√°c c√¥ng vi·ªác n√†y c≈©ng ho√†n to√†n kh√°c nhau.

** Tr∆∞√≥c khi nghƒ© c√°ch
- Nh·ªõ l·∫°i qu√° kh·ª© t·ª´ng l√†m nh∆∞ n√†o, r·ªìi l√†m l·∫°i
- ƒê·ªçc docs xem l√†m nh∆∞ n√†o
- B·∫≠t terminal, g√µ l·ªánh
- B·∫≠t th√™m terminal, g√µ l·ªánh
- C·∫ßn m·ªü web th√¨ v√¥ menu ho·∫∑c g√µ l·ªánh m·ªü web

* Nghƒ© c√°ch m·ªõi
Do vi·ªác l·∫∑p l·∫°i v√† kh√¥ng nh·ªõ c·∫ßn l√†m g√¨ n√™n ph·∫£i nghƒ© c√°ch (nh·∫≠n bi·∫øt c√°i kh·ªï v√† tho√°t kh·ªï).

V·ªõi t∆∞ duy ~Vi·∫øt m·ªôt l·∫ßn, ch·∫°y nhi·ªÅu l·∫ßn, debug v√† fix c≈©ng nhi·ªÅu l·∫ßn~, v√† √°p d·ª•ng k·ªπ thu·∫≠t h∆°i cao [[/post/literate-devops-with-emacs/][Literate DevOops]].


Khi b·∫Øt ƒë·∫ßu m·ªôt project n√†o ƒë√≥ m√¨nh s·∫Ω so·∫°n 1 c√°i t·ªáp ~tasks.org~ v√† vi·∫øt v√†o ƒë√¢y c√°c l·ªánh c·∫ßn ch·∫°y thay v√¨ g√µ th·∫≥ng v√†o terminal.


ƒê·ªÉ tr·ª±c quan sinh ƒë·ªông, m√¨nh l·∫•y v√≠ d·ª• l√†m vi·ªác v·ªõi 1 project m·ªõi d√πng django th√¨ ƒë·∫°i lo·∫°i nh∆∞ sau.

- tasks.org
#+begin_src org
 (eepitch '(shell "*django-tasks*"))
# Setup env
cat > .envrc << EOF
export PATH=\$HOME/.pyenv/bin:\$PATH
eval "\$(pyenv init -)"
layout pyenv 3.9.2
EOF

direnv allow .
# Update pip
pip install -U pip
# Install libs
pip install -r requirements.txt
#+end_src

C·ª© b·∫•m F8 (`[[https://github.com/TxGVNN/dots/blob/1bf04a8c609307baead5248cd10e0731688c404d/.emacs#L783][eepitch-this-line-or-setup]]') v√†o line n√†o c·∫ßn ch·∫°y th√¥i.

Ok, ti·∫øp theo ta c·∫ßn ch·∫°y nh·ªØng c√¢u l·ªánh nh∆∞ ~django-admin startproject|startapp|migrate...~ th√¨ c·ª© vi·∫øt h·∫øt v√†o ƒë√¢y.
M√¨nh c√≤n t·ª± g·ªçi nh·ªØng file ki·ªÉu ~tasks.org~ l√† ~log as code(LaC)~.

ƒê·ªëi v·ªõi c√°c c√¢u l·ªánh c√≥ t√≠nh l·∫∑p l·∫°i cao, m√¨nh s·ª≠ d·ª•ng org-babel, v√† vi·∫øt th√™m 1 g√≥i [[https://github.com/TxGVNN/project-tasks][TxGVNN/project-tasks]] thu·∫≠n ti·ªán g·ªçi c√°c task b·∫±ng ph√≠m t·∫Øt.

Ti·∫øp t·ª•c v√≠ d·ª• tr√™n

- tasks.org
#+begin_src org
* Tasks
  ,#+name: makemigrations
  ,#+begin_src compile :name makemigrations
  django-admin makemigrations
  ,#+end_src

  ,#+name: browser
  ,#+begin_src compile :name browser
  chromium --temp-profile http://localhost:8080
  ,#+end_src

#+end_src


ƒê·ªÉ g·ªçi c√°c tasks th√¨ ƒë∆°n gi·∫£n b·∫•m ~C-x p P~ (`[[https://github.com/TxGVNN/project-tasks/blob/3e2de520901efa1f7b6e95c4f46ad2f9e7c9a4db/project-tasks.el#L59][project-tasks]]'), n√≥ s·∫Ω hi·ªán c√°c task m√¨nh ƒë√£ vi√©t trong tasks.org ƒë·ªÉ ch·ªçn nh∆∞ sau:
{{< figure src="/images/project-tasks.png" alt="project-tasks" >}}

ƒê·ªëi v·ªõi c√°c l·ªánh m√† l·∫∑p l·∫°i nhi·ªÅu d√†nh cho c·∫£ team th√¨ m√¨nh c√≥ th·ªÉ vi·∫øt th√†nh ~Makefile~ thay v√¨ vi·∫øt v√†o ~tasks.org~.
V√¨ ~tasks.org~ l√† t·ªáp c√° nh√¢n c·ªßa ri√™ng m√¨nh th√¥i, ch·ª© kh√¥ng share.
