<!DOCTYPE html>
<html lang="vi-vn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Phạm vi directory trong Emacs | MẤY KHI MẤY KHỈ</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Phạm vi directory trong Emacs" />
<meta property="og:description" content="Sơ lược về cách Emacs làm việc với buffer/file   Buffer nói 1 cách dễ hiểu là 1 tệp ảo (không cần)/(chưa được)/(đã được) lưu thành 1 tệp. Đối tượng mà emacs làm việc là buffer. Khi mở 1 file trong emacs, emacs sẽ mở file đó vào 1 buffer cùng tên hoặc tên sẽ được đi kèm với thư mục cha khác nhau để phân biệt nếu mở file trùng tên." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/pham-vi-directory-trong-emacs/" />
<meta property="article:published_time" content="2021-03-22T22:46:38+07:00" />
<meta property="article:modified_time" content="2021-03-22T22:46:38+07:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Phạm vi directory trong Emacs"/>
<meta name="twitter:description" content="Sơ lược về cách Emacs làm việc với buffer/file   Buffer nói 1 cách dễ hiểu là 1 tệp ảo (không cần)/(chưa được)/(đã được) lưu thành 1 tệp. Đối tượng mà emacs làm việc là buffer. Khi mở 1 file trong emacs, emacs sẽ mở file đó vào 1 buffer cùng tên hoặc tên sẽ được đi kèm với thư mục cha khác nhau để phân biệt nếu mở file trùng tên."/>

  
  
    
  
  
  <link rel="stylesheet" href="/css/style-light.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="/">
  
    <div id="logo" style="background-image: url(https://avatars.githubusercontent.com/u/9713793?s=64)"></div>
  
  <div id="title">
    <h1>MẤY KHI MẤY KHỈ</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
      
        <li><a href="/post/intro">Intro</a></li>
      
        <li><a href="/post">Writings</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    
<h2 id="headline-1">
Sơ lược về cách Emacs làm việc với buffer/file
</h2>
<p>
Buffer nói 1 cách dễ hiểu là 1 tệp ảo (không cần)/(chưa được)/(đã được) lưu thành 1 tệp. Đối tượng mà emacs làm việc là buffer.
Khi mở 1 file trong emacs, emacs sẽ mở file đó vào 1 buffer cùng tên hoặc tên sẽ được đi kèm với thư mục cha khác nhau để phân biệt nếu mở file trùng tên.
</p>
<p>
Mỗi buffer sẽ đi kèm với 1 biến local là <code>default-directory</code>. Biến này sẽ cho chúng ta biết ta đang ở đâu, nó giống như <code>cd</code> vào <code>default-directory</code> rồi mở file.
</p>
<p>
Biến local này rất quan trọng, nó là thư mục ngầm định cho các câu lệnh mà mình sẽ thực hiện. Ví dụ:
</p>
<ul>
<li>
<p>
<code>M-x shell-commmand</code> -&gt; <code>touch ABC</code> thì sẽ tạo ra file ABC ở <code>default-directory</code>
</p>
</li>
<li>
<p>
<code>M-x find-grep</code> hay <code>M-x grep</code> sẽ tìm kiếm trên thư mục này
</p>
</li>
<li>
<p>
<code>M-x compile</code> sẽ chạy function trên thư mục này
</p>
</li>
</ul>
<p>
Chúng ta có thể thay đôỉ biến local này trên mỗi buffer bằng <code>M-x cd</code>.
</p>
<h2 id="headline-2">
Các phạm vi mà mình định nghĩa
</h2>
<p>
Giả sử chúng ta gọi <code>base_dir</code> để chỉ thư mục đang đứng ở đó để chạy các function.
</p>
<p>
Trong quá trình sử dụng, mình nhận thấy rằng mình cần có 3 nhóm phạm vi lúc tương tác với file
</p>
<ul>
<li>
<p>
Phạm vi thư mục hiện hành =&gt; chính là dùng <code>default-directory</code> làm <code>base_dir</code> như emacs mặc định sử dụng.
</p>
</li>
<li>
<p>
Phạm vi thư mục project =&gt; Tức là sử dụng thư mục project làm <code>base_dir</code>
</p>
</li>
<li>
<p>
Pham vi thư mục khác =&gt; Tức mình sẽ chỉ định chính xác thư mục nào sẽ được làm <code>base_dir</code>
</p>
</li>
</ul>
<p>
Với việc làm rõ như này, mình rất linh động khi sử dụng các function trên thư mục mà mình mong muốn. Vừa hiệu quả mà lại còn tốc độ thì nhanh khủng khiếp mà không cần dùng chuột =))
</p>
<h3 id="headline-3">
Phạm vi thư mục hiện hành
</h3>
<p>
Cái này cơ bản nhất. Khi muôn thực hiện các function CHỈ ở trong thư mục hiện hành.
Mình thường sử dụng các funcion như: find-file, ripgrep, compile, find-grep
</p>
<h3 id="headline-4">
Phạm vi thư mục project
</h3>
<p>
Khi làm việc với 1 project. Mình thường sử dụng các function sau
</p>
<ul>
<li>
<p>
<code>project-find-file</code> -&gt; Tìm file trong project
</p>
</li>
<li>
<p>
<code>project-consult-ripgrep</code> -&gt; Tìm pattern trong project (<a href="https://github.com/TxGVNN/dots/blob/4063d31572e88dba58fc2b7cef506b9efc337776/.emacs#L289">src</a>)
</p>
</li>
<li>
<p>
<code>project-compile</code> -&gt; Biên dịch trong project như chạy <code>make build</code>
</p>
</li>
<li>
<p>
<code>magit</code> -&gt; Mở git
</p>
</li>
<li>
<p>
…
</p>
</li>
</ul>
<h3 id="headline-5">
Phạm vi thư mục khác
</h3>
<p>
Trong trường hợp mình cần chạy function nào đó ở 1 thư mục không phải là thư mục hiện tại và cũng không phải là thư mục của project nào cả. Thì đây là pham vi thư mục khác
</p>
<p>
Ví dụ chạy <code>ripgrep</code> ở 1 thư mục khác như <code>/usr/share/emacs/site-lisp</code>
</p>
<p>
Mình sẽ sử dụng <code>M-x find-file</code> -&gt; <code>/usr/share/emacs/site-lisp</code> -&gt; chạy <code>embark-act</code> -&gt; <code>embark-chroot</code> và chạy function mà mình muốn
</p>

  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  MẤY KHI MẤY KHỈ 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/post/intro">Intro</a></li>
         
        <li><a href="/post">Writings</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
